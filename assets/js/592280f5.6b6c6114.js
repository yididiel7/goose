"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[6786],{81422:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/allowlist","title":"Goose Extension Allowlist","description":"Goose is an extensible framework that, by default, allows you to install any MCP server. However, you may want stricter controls on which MCP servers can be installed as extensions (e.g. in a corporate setting).","source":"@site/docs/guides/allowlist.md","sourceDirName":"guides","slug":"/guides/allowlist","permalink":"/goose/docs/guides/allowlist","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":19,"frontMatter":{"sidebar_position":19,"title":"Goose Extension Allowlist","sidebar_label":"Extension Allowlist"},"sidebar":"tutorialSidebar","previous":{"title":"Creating Plans","permalink":"/goose/docs/guides/creating-plans"},"next":{"title":"Tutorials","permalink":"/goose/docs/category/tutorials"}}');var i=t(74848),l=t(28453);const o={sidebar_position:19,title:"Goose Extension Allowlist",sidebar_label:"Extension Allowlist"},a=void 0,r={},c=[{value:"How It Works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"1. Create and Deploy Allowlist",id:"1-create-and-deploy-allowlist",level:3},{value:"Example",id:"example",level:4},{value:"2. Set Environment Variable",id:"2-set-environment-variable",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Goose is an extensible framework that, by default, allows you to install any MCP server. However, you may want stricter controls on which MCP servers can be installed as extensions (e.g. in a corporate setting)."}),"\n",(0,i.jsxs)(n.p,{children:["This guide explains how you can create an ",(0,i.jsx)(n.strong,{children:"allowlist"})," of safe extensions that work with Goose Desktop and CLI. An allowlist lets administrators control which MCP servers can be installed as Goose extensions. When enabled, Goose will only install extensions that are on the list, and will block installation of any others."]}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"The allowlist is a YAML file that contains a list of allowed extension commands."}),"\n",(0,i.jsxs)(n.li,{children:["Goose fetches the allowlist from a URL specified by the ",(0,i.jsx)(n.code,{children:"GOOSE_ALLOWLIST"})," environment variable."]}),"\n",(0,i.jsx)(n.li,{children:"The allowlist is fetched when first needed and is cached. It is refetched on every restart of Goose."}),"\n",(0,i.jsx)(n.li,{children:"When a user attempts to install an extension, Goose checks the MCP server's installation command against the allowlist."}),"\n",(0,i.jsx)(n.li,{children:"If the command is not in the allowlist, the extension installation is rejected."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"1-create-and-deploy-allowlist",children:"1. Create and Deploy Allowlist"}),"\n",(0,i.jsx)(n.p,{children:"The allowlist must be a YAML file with the following structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"extensions:\n  - id: extension-id-1\n    command: command-name-1\n  - id: extension-id-2\n    command: command-name-2\n  # ... more extensions\n"})}),"\n",(0,i.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,i.jsx)(n.p,{children:"In this example, only the Slack, GitHub, and Jira extensions can be installed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"extensions:\n  - id: slack\n    command: uvx mcp_slack\n  - id: github\n    command: uvx mcp_github\n  - id: jira\n    command: uvx mcp_jira\n"})}),"\n",(0,i.jsx)(n.p,{children:"After creating the allowlist, you must deploy it to a URL."}),"\n",(0,i.jsx)(n.h3,{id:"2-set-environment-variable",children:"2. Set Environment Variable"}),"\n",(0,i.jsxs)(n.p,{children:["Create an environment variable called ",(0,i.jsx)(n.code,{children:"GOOSE_ALLOWLIST"})," and set the value to the URL of your YAML file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export GOOSE_ALLOWLIST=https://example.com/goose-allowlist.yaml\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also add this export to your shell configuration file (On a Mac, it's your ",(0,i.jsx)(n.code,{children:"~/.bashrc"})," or ",(0,i.jsx)(n.code,{children:"~/.zshrc"})," file)."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"If this environment variable is not set, no allowlist restrictions are applied. With no restrictions, all extensions can be installed."})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.p,{children:"To effectively use the allowlist with exact matching:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Specify commands"}),": Define the exact command string that you want to allow."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Include full paths"}),": If you want to allow a command only from a specific path, include the full path in the allowlist."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Audit regularly"}),": Review your allowlist frequently to ensure it only contains the commands you intend to allow."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use HTTPS"}),": Use an HTTPS URL for your allowlist to prevent man-in-the-middle attacks."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Restrict edit access"}),": Ensure that only authorized users can edit the allowlist."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Validate entries"}),": Carefully review the allowlist to ensure only trusted commands are included."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitor installations"}),": Watch for rejected commands during extension installation, which might indicate attempted abuse."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.p,{children:"If extensions are being rejected unexpectedly:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Check if the ",(0,i.jsx)(n.code,{children:"GOOSE_ALLOWLIST"})," environment variable is set correctly."]}),"\n",(0,i.jsx)(n.li,{children:"Verify that the allowlist file is accessible from the server."}),"\n",(0,i.jsx)(n.li,{children:"Ensure the allowlist file is properly formatted YAML."}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.a,{href:"/docs/guides/logs",children:"server logs"})," for any errors related to fetching or parsing the allowlist."]}),"\n",(0,i.jsx)(n.li,{children:"Verify that the command in the extension installations exactly matches what's in the allowlist."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const i={},l=s.createContext(i);function o(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);